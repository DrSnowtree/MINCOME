basepay <- readRDS("W:/WU/Projekte/mincome/Mincome/Data/final datasets/basepay.rds")
basepayfam <- basepay %>% select(FAMNUM, treated)
library("haven")
library("dplyr")
library("tidyr")
library("tidyverse")
library("lubridate")
library("data.table")
library("foreign")
library("haven")
library("quantmod")
library("zoo")
library("plm")
library("gplots")
library("stargazer")
library("lfe")
library("Hmisc")
library("readxl")
library("naniar")
library("strex")
basepayfam <- basepay %>% select(FAMNUM, treated)
setwd("W:/WU/Projekte/mincome/Mincome/Data")
bp <- read_excel("raw ornot complete data/bp.xlsx")
bp <- read_excel("raw or not complete data/bp.xlsx")
bp$FAMNUM <- as.character(bp$FAMNUM)
basepaycomp <- merge(basepayfam, bp, by = "FAMNUM", all = F)
basepaycomp$individual <- 0
basepaycomp$individual[basepaycomp$`Double Head = 1...4`== 0 & basepaycomp$`Single Head = 1...5` == 0] <- 1
basepaycomp[basepaycomp == -9] <- NA
basepaycomp[basepaycomp == -7] <- NA
basepaycomp[basepaycomp == -1] <- NA
basepaycomp[basepaycomp == "."] <- NA
basepaycomp <- as.data.frame(sapply(basepaycomp, as.factor))
basepaycomp$`Age Male Head...95` <- as.numeric(as.character(basepaycomp$`Age Male Head...95`))
basepaycomp$`Age Female Head...96` <- as.numeric(as.character(basepaycomp$`Age Female Head...96`))
basepaycomp$`Home Val` <- as.numeric(as.character(basepaycomp$`Home Val`))
basepaycomp$Mortgae <- as.numeric(as.character(basepaycomp$Mortgae))
basepaycomp$Rent <- as.numeric(as.character(basepaycomp$Rent))
basepaycomp$`Val Vehic`<- as.numeric(as.character(basepaycomp$`Val Vehic`))
basepaycomp$`Liq Assets` <- as.numeric(as.character(basepaycomp$`Liq Assets`))
basepaycomp$`Durables Val` <- as.numeric(as.character(basepaycomp$`Durables Val`))
basepaycomp$`Tot UIC 74` <- as.numeric(as.character(basepaycomp$`Tot UIC 74` ))
basepaycomp$`Tot UIC 73` <- as.numeric(as.character(basepaycomp$`Tot UIC 73`))
basepaycomp$`Tot Wel 74` <- as.numeric(as.character(basepaycomp$`Tot Wel 74`))
basepaycomp$`Wel Mun_Prov 74`  <- as.numeric(as.character(basepaycomp$`Wel Mun_Prov 74`))
basepaycomp$`Tot Oth Unear 73` <- as.numeric(as.character(basepaycomp$`Tot Oth Unear 73` ))
basepaycomp$`Tot Fam Inc 74` <- as.numeric(as.character(basepaycomp$`Tot Fam Inc 74`))
basepaycomp$mnumjob <- as.numeric(as.character(basepaycomp$mnumjob))
basepaycomp$mhrspaid <- as.numeric(as.character(basepaycomp$mhrspaid))
basepaycomp$mnumjob <- as.numeric(as.character(basepaycomp$mnumjob))
basepaycomp$mwagerate <- as.numeric(as.character(basepaycomp$mwagerate))
basepaycomp$mgrossearnings <- as.numeric(as.character(basepaycomp$mgrossearnings))
basepaycomp$`mTot Earn` <- as.numeric(as.character(basepaycomp$`mTot Earn`))
basepaycomp$`mTot Earn 74` <- as.numeric(as.character(basepaycomp$`mTot Earn 74`))
basepaycomp$`mNum Weeks 74` <- as.numeric(as.character(basepaycomp$`mNum Weeks 74`))
basepaycomp$`mNum Weeks 73` <- as.numeric(as.character(basepaycomp$`mNum Weeks 73`))
basepaycomp$`mAvg week hrs x10` <- as.numeric(as.character(basepaycomp$`mAvg week hrs x10`))
basepaycomp$myearsFT <- as.numeric(as.character(basepaycomp$myearsFT))
basepaycomp$`fHours P  x10` <- as.numeric(as.character(basepaycomp$`fHours P  x10`))
basepaycomp$`fWage Rate  x100` <- as.numeric(as.character(basepaycomp$`fWage Rate  x100`))
basepaycomp$`fGross Earnings` <- as.numeric(as.character(basepaycomp$`fGross Earnings`))
basepaycomp$`fTot Earn` <- as.numeric(as.character(basepaycomp$`fTot Earn`))
basepaycomp$`fTot Earn 74` <- as.numeric(as.character(basepaycomp$`fTot Earn 74`))
basepaycomp$`fNum Weeks 74` <- as.numeric(as.character(basepaycomp$`fNum Weeks 74`))
basepaycomp$`fNum weeks 73`<- as.numeric(as.character(basepaycomp$`fNum weeks 73`))
basepaycomp$`fAvg week hrs x10` <- as.numeric(as.character(basepaycomp$`fAvg week hrs x10`))
basepaycomp$'fYears FT'<- as.numeric(as.character(basepaycomp$'fYears FT'))
basepaycomp$yrschf<- as.numeric(as.character(basepaycomp$yrschf))
basepaycomp$yrschm<- as.numeric(as.character(basepaycomp$yrschm))
basepaycomp$fmotheduc<- as.numeric(as.character(basepaycomp$fmotheduc))
basepaycomp$ffathereduc<- as.numeric(as.character(basepaycomp$ffathereduc))
basepaycomp$mfathereduc<- as.numeric(as.character(basepaycomp$mfathereduc))
basepaycomp$mmotheduc<- as.numeric(as.character(basepaycomp$mmotheduc))
basepaycomp$`fChild care cost`<- as.numeric(as.character(basepaycomp$`fChild care cost`))
basepaycomp$`mChild care cost`<- as.numeric(as.character(basepaycomp$`mChild care cost`))
basepaycomp$ `fNum Job`<- as.numeric(as.character(basepaycomp$ `fNum Job`))
basepaycomp <- basepaycomp %>% rename(numvehic = `Num Vehic`,
valvehic = `Val Vehic`,
totfaminc = `Tot Fam Inc 74`,
fhrspaid = `fHours P  x10`, mtotearn = `mTot Earn`, ftotearn= `fTot Earn`,
hmown = `Home Own`)
basepaycomp <- basepaycomp %>% select (FAMNUM, numvehic, valvehic, mill, fill, totfaminc, minsch, finsch,
fhrspaid, mtotearn, ftotearn, mhrspaid, fmotheduc, ffathereduc)
basepay <- merge(basepay, basepaycomp, by = "FAMNUM")
basepay$valvehic[is.na(basepay$valvehic)] <- 0
View(basepay)
class(basepay$mtotearn)
class(basepay$if_birth)
class(basepay$if_birth9)
class(basepay$FSI)
class(basepay$changeDHSH)
basepay$mill <- as.factor(basepay$mill)
basepay$fill <- as.factor(basepay$fill)
basepay$minsch<- as.factor(basepay$minsch)
basepay$finsch<- as.factor(basepay$finsch)
baspeay$if_birth9<- as.factor(basepay$if_birth9)
basepay$birth<- as.factor(basepay$birth)
basepay$changeDHSH<- as.factor(basepay$changeDHSH)
basepay$changeSHDH<- as.factor(basepay$changeSHDH)
basepay$if_birth9<- as.factor(basepay$if_birth9)
basepay$birth<- as.factor(basepay$birth)
basepay$changeDHSH<- as.factor(basepay$changeDHSH)
basepay$changeSHDH<- as.factor(basepay$changeSHDH)
class(basepay$birth)
class(basepay$mill)
reg1 <- glm(formula = birth ~ treated + FSI + incbracket, family = binomial(link = "logit"), data = basepay)
stargazer(reg1)
reg5 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
chout + if_birth9 + changeDHSH + changeSHDH + NumAdults,
family = binomial(link = "logit"), data = basepay)
summary(reg5)
basepay$if_birth[basepay$FAMNUM == 14324] <- 0
basepay$costch <- as.numeric(basepay$costch)
saveRDS(basepay, "basepay.rds")
library("glm2")
library("oddsratio")
library("margins")
library("mfx")
library(jtools)
library(dplyr)
View(basepay)
reg3 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheeduc + finsch + fill + numvehic + valvehic +
chout + if_birth9, family = binomial(link = "logit"), data = basepay)
reg3 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9, family = binomial(link = "logit"), data = basepay)
summary(reg3)
stargazer(reg3)
basepay$numvehic <- as.numeric(as.character(basepay$numvehic))
reg3 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9, family = binomial(link = "logit"), data = basepay)
stargazer(reg3)
reg4 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9, family = binomial(link = "logit"), data = basepay)
stargazer(reg4)
saveRDS(basepay, "basepay.rds")
reg5 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9 + MAGE + mill + minsch + yrschm,
family = binomial(link = "logit"), data = basepay)
stargazer(reg5)
reg6 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9 + MAGE + mill + minsch + yrschm, family = binomial(link = "logit"), data = basepay)
stargazer(reg6)
reg3 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9 + femhome, family = binomial(link = "logit"), data = basepay)
stargazer(reg3)
reg3 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9 + femhome + changeDHSH + changeSHDH,
family = binomial(link = "logit"), data = basepay)
stargazer(reg3)
reg4 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9 + femhome + changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
stargazer(reg4)
reg5 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9 + MAGE + mill + minsch + yrschm,
family = binomial(link = "logit"), data = basepay)
stargazer(reg5)
reg5 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9 + MAGE + mill + minsch + yrschm + mmotheduc,
family = binomial(link = "logit"), data = basepay)
stargazer(reg5)
reg6 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill + numvehic + valvehic +
chout + if_birth9 + MAGE + mill + minsch + yrschm, family = binomial(link = "logit"), data = basepay)
stargazer(reg6)
reg3 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + fmotheduc + finsch + fill +
chout + if_birth9 + femhome + changeDHSH + changeSHDH,
family = binomial(link = "logit"), data = basepay)
stargazer(reg3)
reg3 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + finsch + fill + numvehic + valvehic +
chout + if_birth9 + femhome + changeDHSH + changeSHDH,
family = binomial(link = "logit"), data = basepay)
stargazer(reg3)
reg3 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
finsch + fill + numvehic + valvehic +
chout + if_birth9 + femhome + changeDHSH + changeSHDH,
family = binomial(link = "logit"), data = basepay)
stargazer(reg3)
reg4 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
+ finsch + fill + numvehic + valvehic +
chout + if_birth9 + femhome + changeDHSH + changeSHDH,
family = binomial(link = "logit"), data = basepay)
