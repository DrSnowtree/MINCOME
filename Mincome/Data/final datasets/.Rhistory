basepay$treated[basepay$treated == 1] <- "Treatment"
t <-ggplot(basepay, aes(x=age, fill=treated)) +
geom_density(alpha=0.2)
t <- t + labs(fill= "Treatment:")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + theme_bw() + theme(panel.border = element_blank(),
panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.line = element_line(colour = "black"))
t
t <-ggplot(basepay, aes(x=age, fill=treated)) +
geom_density(alpha=0.2)
t <- t + labs(fill= "Treatment:")
t <-ggplot(basepay, aes(x=age, fill=treated)) +
geom_density(alpha=0.2)
t <- t + labs(fill= "Treatment:")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + theme_bw() + theme(panel.border = element_blank(),
panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.line = element_line(colour = "black"))
t
basepay <- readRDS("W:/WU/Projekte/mincome/Mincome/Data/final datasets/basepay.rds")
basepay$plan<- as.factor(basepay$plan)
basepay$treated<- as.factor(basepay$treated)
t <-ggplot(basepay, aes(x=age, fill=treated)) +
geom_density(alpha=0.2)
t <- t + labs(fill= "Treatment:")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + theme_bw() + theme(panel.border = element_blank(),
panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.line = element_line(colour = "black"))
t
basepay$plan<- as.factor(basepay$plan)
basepay$treated<- as.factor(basepay$treated)
basepay <- readRDS("W:/WU/Projekte/mincome/Mincome/Data/final datasets/basepay.rds")
t <-ggplot(basepay, aes(x=age, fill=treated)) +
geom_density(alpha=0.2)
t <- t + labs(fill= "Treatment:")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + theme_bw() + theme(panel.border = element_blank(),
panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.line = element_line(colour = "black"))
t
basepay$plan<- as.factor(basepay$plan)
basepay$treated<- as.factor(basepay$treated)
basepay$age <- as.character(basepay$age)
basepay$age <- as.numeric(basepay$age)
t <-ggplot(basepay, aes(x=age, fill=treated)) +
geom_density(alpha=0.2)
t <- t + labs(fill= "Treatment:")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + labs(x = "Age of the female householder", y = "Density")
t <- t + theme_bw() + theme(panel.border = element_blank(),
panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.line = element_line(colour = "black"))
t
p <-ggplot(basepay, aes(x=age,
color=plan)) +
geom_density(alpha=0.2)
p
p <- p + labs(fill= "Treatment plan")
p <- p + labs(x = "Age of the female householder", y = "Density")
p <- p + theme_bw() + theme(panel.border = element_blank(),
panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.line = element_line(colour = "black"))
p
bp<-ggplot(basepay, aes(x=plan, y=age, color=plan)) +
geom_boxplot()
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot()
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot() +
geom_density(alpha=0.2)
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot() +
geom_density(alpha=0.2)
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot() +
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot() +
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot() +
bp
t <-ggplot(basepay, aes(x=age, fill=treated)) +
geom_density(alpha=0.2)
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot() +
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot()
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot()
bp<- bp + labs(fill= "Treatment:")
bp <- bp + labs(x = "Treatment plan", y = "Age of the female householder")
bp <- bp + theme_bw() + theme(panel.border = element_blank(),
panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.line = element_line(colour = "black"))
bp
install.packages("wesanderson")
library("wesanderson")
bp <- bp + scale_fill_manual(values=wes_palette(n=3, name="GrandBudapest"))
bp <- bp + scale_fill_manual(values=wes_palette(n=3, name="GrandBudapest"))
library("wesanderson")
bp <- bp + scale_fill_manual(values=wes_palette(n=3, name="GrandBudapest"))
bp <- bp + scale_fill_manual(values=wes_palette(name="GrandBudapest"))
bp <- bp + scale_fill_manual(values=wes_palette(name="GrandBudapest"))
bp <- bp + scale_fill_manual(values=wes_palette(name="GrandBudapest1"))
bp
bp <- bp + scale_fill_manual(values=wes_palette(name="Cavalcanti"))
bp
t <- + scale_fill_manual(values=wes_palette(name="GrandBusapest1"))
t <- + scale_fill_manual(values=wes_palette(name="GrandBudapest1"))
t <- t + scale_fill_manual(values=wes_palette(name="GrandBudapest1"))
t
t <- t + scale_fill_manual(values=wes_palette(name="GrandBudapest2"))
t
t <- t + scale_fill_manual(values=wes_palette(name="oyal2"))
t <- t + scale_fill_manual(values=wes_palette(name="Royal2"))
t
t <- t + scale_fill_manual(values=wes_palette(name="GrandBudapest1"))
t
bp
bp<-ggplot(basepay, aes(x=plan, y=age, fill=plan)) +
geom_boxplot()
bp<- bp + labs(fill= "Treatment:")
bp <- bp + labs(x = "Treatment plan", y = "Age of the female householder")
bp <- bp + theme_bw() + theme(panel.border = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(), axis.line = element_line(colour = "black"))
bp
install.packages("rcartocolor")
install.packages("patchwork")
library("rcartocolor")
library("patchwork")
theme_set(theme_classic(base_size = 14) + theme(panel.background = element_rect(fill = "#f6f1eb")))
set.seed(123)
df <- data.frame(x = rep(1:5, 8),
value = sample(1:100, 40),
variable = rep(paste0("category", 1:8), each = 5))
safe_pal <- carto_pal(12, "Safe")
# https://github.com/clauswilke/colorblindr/blob/master/R/palettes.R
palette_OkabeIto <- c("#E69F00", "#56B4E9", "#009E73", "#F0E442",
"#0072B2", "#D55E00", "#CC79A7", "#999999")
palette_OkabeIto_black <- c("#E69F00", "#56B4E9", "#009E73", "#F0E442",
"#0072B2", "#D55E00", "#CC79A7", "#000000")
bp <-  bp + scale_fill_manual(values = safe_pal)
bp
View(basepay)
View(basepay)
library(readxl)
dataset <- read_excel(NULL)
View(dataset)
library(readxl)
base_pay_data_revised_Dec_11_2019 <- read_excel("W:/WU/Projekte/mincome/Mincome/Data/raw or not complete data/base_pay.data_revised_Dec 11, 2019.xlsx")
View(base_pay_data_revised_Dec_11_2019)
labpartinfo <- base_pay_data_revised_Dec_11_2019[, c("FamNum", "labpartmale", "labpartfemale")]
labpartinfo <- base_pay_data_revised_Dec_11_2019 %>%
select ("FamNum", "labpartmale", "labpartfemale")
library(dplyr)
labpartinfo <- base_pay_data_revised_Dec_11_2019 %>%
select ("FamNum", "labpartmale", "labpartfemale")
labpartinfo <- base_pay_data_revised_Dec_11_2019 %>%
select ("FAMNUm", "labpartmale", "labpartfemale")
labpartinfo <- base_pay_data_revised_Dec_11_2019 %>%
select ("FAMNUM", "labpartmale", "labpartfemale")
labpartinfo <- base_pay_data_revised_Dec_11_2019 %>%
select ("FAMNUM", "lappartmale", "lappartfemale")
basepay <- merge(labpartinfo, basepay, by = "FAMNUM", all= FALSE)
View(basepay)
basepay[-9] <- NA
basepay <- readRDS("//shares/data/Users/tdoekmec/Docs/Documents/basepay.rds")
basepay <- merge(labpartinfo, basepay, by = "FAMNUM", all= FALSE)
basepay[basepay == -9] <- NA
basepay$bothlab <- 0
basepay[basepay$lappartfemale == 1 & basepay$lappartmale == 1] <- 1
basepay$bothlab <- 0
basepay[basepay$lappartfemale == 1 & basepay$lappartmale == 1] <- 1
basepay$femlab <- 0
basepay[basepay$lappartfemale == 1 & basepay$lappartmale == 0] <- 1
basepay[basepay$lappartfemale == 1 & is.na(basepay$lappartmale)] <- 1
basepay$mlab <- 0
basepay[basepay$lappartmale == 1 & basepay$lappartfemale == 0] <- 1
basepay[basepay$lappartmale == 1 & is.na(basepay$lappartfemale)] <- 1
basepay$femhome <- 0
basepay[basepay$DH == 1 & basepay$lappartfemale == 0] <- 1
basepay$bothlab <- 0
basepay[basepay$lappartfemale == 1 & basepay$lappartmale == 1] <- 1
basepay$bothlab <- 0
basepay$bothlab <- ifelse(!is.na(basepay$lappartfemale) & !is.na(basepay$lappartmale)
& basepay$lappartfemale == 1 & basepay$lappartmale == 1, 1, basepay$bothlab)
basepay$femlab <- 0
basepay$femlab <- ifelse(!is.na(basepay$lappartfemale) & !is.na(basepay$lappartmale)
& basepay$lappartfemale == 1 & basepay$lappartmale == 0, 1, basepay$femlab)
basepay$mlab <- 0
basepay$femhome <- 0
basepay$femhome <- ifelse(!is.na(basepay$lappartfemale) & !is.na(basepay$lappartmale)
& basepay$lappartfemale == 0 & basepay$lappartmale == 1, 1, basepay$mlab)
basepay$femlab <- 0
basepay$femlab <- ifelse(!is.na(basepay$lappartfemale) & is.na(basepay$lappartmale)
& basepay$lappartfemale == 1, 1, basepay$femlab)
library(compareGroups)
compfemhome = compareGroups::compareGroups(plan ~ bothlab + femlab
+ femhome, data = basepaycross_rem,
max.ylev = 10 )
compfemhome = compareGroups::compareGroups(plan ~ bothlab + femlab
+ femhome, data = basepay,
max.ylev = 10 )
compfemhome_table <-  compareGroups::createTable(compfemhome)
print(compfemhome_table)
basepay$bothlab <- as.factor(basepay$bothlab)
basepay$femlab <- as.factor(basepay$femlab)
basepay$femhome <- as.factor(basepay$femhome)
compfemhome = compareGroups::compareGroups(plan ~ bothlab + femlab
+ femhome, data = basepay,
max.ylev = 10 )
compfemhome_table <-  compareGroups::createTable(compfemhome)
print(compfemhome_table)
reg12 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  +
FSI + NumChild  + incbracket +  yrschf + yrschm + MAGE +
chout + if_birth9 + costch + femhome,
family = binomial(link = "logit"), data = basepay)
summary(reg12)
print(compfemhome_table)
compfemhome = compareGroups::compareGroups(treated ~ bothlab + femlab
+ femhome, data = basepay,
max.ylev = 10 )
compfemhome_table <-  compareGroups::createTable(compfemhome)
print(compfemhome_table)
reg11 <- glm(formula = birth ~ treated + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + yrschm +  MAGE+
chout + if_birth9 + costch + treated
, family = binomial(link = "logit"), data = basepay)
summary(reg11)
reg11 <- glm(formula = birth ~ treated + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + yrschm +  MAGE+
chout + if_birth9 + costch + femhome
, family = binomial(link = "logit"), data = basepay)
summary(reg11)
saveRDS(basepay, "basepay.rds")
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
effects_reg1 = margins(reg1)
library("margins")
effects_reg1 = margins(reg1)
plot(effects_reg1)
pcoef <- plot_summs(effects_reg1, scale = TRUE, plot.distributions = FALSE,
coefs = c("Treated" ="treated"),
inner_ci_level = .9, colors = "Qual3")
library(jtools)
pcoef <- plot_summs(effects_reg1, scale = TRUE, plot.distributions = FALSE,
coefs = c("Treated" ="treated"),
inner_ci_level = .9, colors = "Qual3")
meplot <- function(model,var1,var2,int,vcov,ci=.95,
xlab=var2,ylab=paste("Marginal Effect of",var1),
main="Marginal Effect Plot",
me_lty=1,me_lwd=1,me_col="black",
ci_lty=1,ci_lwd=.5,ci_col="black",
yint_lty=2,yint_lwd=1,yint_col="black"){
require(ggplot2)
alpha <- 1-ci
z <- qnorm(1-alpha/2)
beta.hat <- coef(model)
cov <- vcov
z0 <- seq(min(model.frame(model)[,var2],na.rm=T),max(model.frame(model)[,var2],na.rm=T),length.out=1000)
dy.dx <- beta.hat[var1] + beta.hat[int]*z0
se.dy.dx <- sqrt(cov[var1,var1] + z0^2*cov[nrow(cov),ncol(cov)] + 2*z0*cov[var1,ncol(cov)])
upr <- dy.dx + z*se.dy.dx
lwr <- dy.dx - z*se.dy.dx
ggplot(data=NULL,aes(x=z0, y=dy.dx)) +
labs(x=xlab,y=ylab,title=main) +
geom_line(aes(z0, dy.dx),size = me_lwd,
linetype = me_lty,
color = me_col) +
geom_line(aes(z0, lwr), size = ci_lwd,
linetype = ci_lty,
color = ci_col) +
geom_line(aes(z0, upr), size = ci_lwd,
linetype = ci_lty,
color = ci_col) +
geom_hline(yintercept=0,linetype=yint_lty,
size=yint_lwd,
color=yint_col)
}
meplot(model=reg1,var1="treated",vcov=vcov(reg1))
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
effects_reg1 = margins(reg1)
cplot(effects_reg1, x = "treated")
plot(effects_reg1, x = "treated")
plot(reg1, x = "treated")
plot(reg1, x = "treated")
library("mfx")
reg1 <-
glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
maBina(reg1, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
library(erer)
maBina(reg1, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"),
x = TRUE data = basepay)
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"),
x = TRUE, data = basepay)
maBina(reg1, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg1 <- glm(formula = birth ~ treated
, family = binomial(link = "logit"),
x = TRUE, data = basepay)
maBina(reg1, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8, family = binomial(link = "logit"), data = basepay)
maBina(reg2, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8,
x = TRUE, family = binomial(link = "logit"), data = basepay)
maBina(reg2, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8
+  plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH
+ femhome,
x = TRUE, family = binomial(link = "logit"), data = basepay)
basepay <- readRDS("W:/WU/Projekte/mincome/Mincome/Data/final datasets/basepay.rds")
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8
+  plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH
+ femhome,
x = TRUE, family = binomial(link = "logit"), data = basepay)
maBina(reg2, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8
+  plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch + NumChild  +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH
+ femhome,
x = TRUE, family = binomial(link = "logit"), data = basepay)
maBina(reg2, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8
+  plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age  + costch + NumChild  +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH
+ femhome,
x = TRUE, family = binomial(link = "logit"), data = basepay)
maBina(reg2, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8
+  plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age  + costch + NumChild  +  yrschf +
chout,
x = TRUE, family = binomial(link = "logit"), data = basepay)
maBina(reg2, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8
+  plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8,
x = TRUE, family = binomial(link = "logit"), data = basepay)
maBina(reg2, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg1 <- glm(formula = birth ~ treated + FSI + incbracket,
family = binomial(link = "logit"),
x = FALSE, data = basepay)
maBina(reg1, x.mean = TRUE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
maBina(reg1, x.mean = FALSE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg1 <- glm(formula = birth ~ treated + FSI + incbracket,
family = binomial(link = "logit"),
x = FALSE, data = basepay)
maBina(reg1, x.mean = FALSE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
reg1 <- glm(formula = birth ~ treated + FSI + incbracket,
family = binomial(link = "logit"),
x = TRUE, data = basepay)
maBina(reg1, x.mean = FALSE, rev.dum = TRUE, digits = 3,
subset.name = NULL, subset.value)
library("margins")
reg1 <- glm(formula = birth ~ treated + FSI + incbracket,
family = binomial(link = "logit"),
x = TRUE, data = basepay)
m <- margins(reg1)
m
summary(m)
plot(m)
library(ggplot2)
ggplot(m)
m
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8
+  plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + FSI
+ incbracket, family = binomial(link = "logit"), data = basepay)
m2 <- margins(reg2)
m2
reg11 <- glm(formula = birth ~ treated + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + NumChild  +
yrschf + yrschm +  MAGE+
chout + if_birth9 + costch + femhome
, family = binomial(link = "logit"), data = basepay)
m11 = margins(reg11)
m11
reg12 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + NumChild  +  yrschf + yrschm + MAGE +
chout + if_birth9 + costch + femhome,
family = binomial(link = "logit"), data = basepay)
m12 = margins(reg12)
m12 <- summary(effects_reg12)
m12 <- summary(m12)
m12
plot(m11)
m11
summary(m11)
plot_summs(m1, m11, scale = TRUE, plot.distributions = FALSE,
model.names = c("Without controls", "With controls"),
coefs = c("Treated" ="treated"),
inner_ci_level = .9, colors = "Qual3")
plot_summs(m, m11, scale = TRUE, plot.distributions = FALSE,
model.names = c("Without controls", "With controls"),
coefs = c("Treated" ="treated"),
inner_ci_level = .9, colors = "Qual3")
ev1 <- glmer(formula = birth ~ treated*experiment + factor(age) + (1|OID) + factor(j) + factor(year),
data = datapp)
library(glmer)
library(lme4)
ev1 <- glmer(formula = birth ~ treated*experiment + factor(age) + (1|OID) + factor(j) + factor(year),
data = datapp)
stargazer(ev1)
library(stargazer)
ev1 <- glmer(formula = birth ~ treated*experiment + factor(age) + (1|OID) + factor(j) + factor(year),
data = datapp)
stargazer(ev1)
#not significant
ev2 <- glmer(formula = birth ~ plan_1*experiment + plan_2*experiment
+ plan_3*experiment + plan_4*experiment + plan_5*experiment
+ plan_7*experiment + plan_8*experiment + factor(age) + (1|OID) + factor(j) + factor(year),
data = datapp)
stargazer(ev2)
mev2 <- margins(ev2)
mev2 <- margins(ev2)
mev2 <- margins(ev2, data = datapp)
mev2
mev2 <- margins(ev2, data = datapp)
install.packages("ggeffects")
library("ggeffects")
reg1 <- glm(formula = birth ~ treated + FSI + incbracket,
family = binomial(link = "logit"),
x = TRUE, data = basepay)
ggpredict(m, "treated")
ggpredict(reg1, "treated")
reg1 <- glm(formula = birth ~ treated,
family = binomial(link = "logit"),
x = TRUE, data = basepay)
ggpredict(reg1, "treated")
p <- ggpredict(reg1, "treated")
plot(p)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8
+  plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + FSI
+ incbracket, family = binomial(link = "logit"), data = basepay)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + FSI
+ incbracket, family = binomial(link = "logit"), data = basepay)
p <- ggpredict(reg2, "plan_1", "plan_2", "plan_3" + "plan_4" +
"plan_5", "plan_7", "plan_8")
p <- ggpredict(reg2, "plan_1", "plan_2", "plan_3","plan_4",
"plan_5", "plan_7", "plan_8")
p <- ggpredict(reg2, "plan_1")
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8, family = binomial(link = "logit"), data = basepay)
p <- ggpredict(reg2, "plan_1")
plot(p)
p <- ggpredict(reg2, "plan_7")
plot(p)
library(foreign)
setwd("W:/WU/Projekte/mincome/Mincome/Data/final datasets")
write.dta(basepay, "basepay.dta")
reg12 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + NumChild  +  yrschf + yrschm + MAGE +
chout + if_birth9 + costch + femhome,
family = binomial(link = "logit"), data = basepay)
m12 = margins(reg12)
m12
