plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH, family = binomial(link = "logit"),
data = basepay)
summary(reg10)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9, family = binomial(link = "logit"),
data = basepay)
summary(reg10)
reg9 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket + costch +
chout + if_birth9
+ changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
summary(reg9)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +
chout + if_birth9, family = binomial(link = "logit"),
data = basepay)
summary(reg10)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket + NumAdults +
chout + if_birth9, family = binomial(link = "logit"),
data = basepay)
summary(reg10)
basepay <- readRDS("C:/Users/tdoekmec/AppData/Local/Temp/basepay.rds")
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
summary(reg10)
basepay$costch <- as.numeric(basepay$costch)
reg9 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + costch +
chout + if_birth9
+ changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
summary(reg10)
basepay$costch <- as.numeric(basepay$costch)
labpartinfo <- base_pay_data_revised_Dec_11_2019 %>%
dplyr::select ("FAMNUM", "lappartmale", "lappartfemale")
basepay <- merge(labpartinfo, basepay, by = "FAMNUM", all= FALSE)
basepay[basepay == -9] <- NA
#bothlab is a dummy indicating that both householders are working, femlab is  a single woman
#working, and femhome is 1 when a male householder is working, and the woman is not
basepay$bothlab <- 0
basepay$bothlab <- ifelse(!is.na(basepay$lappartfemale) & !is.na(basepay$lappartmale)
& basepay$lappartfemale == 1 & basepay$lappartmale == 1, 1, basepay$bothlab)
basepay$femlab <- 0
basepay$femlab <- ifelse(!is.na(basepay$lappartfemale) & is.na(basepay$lappartmale)
& basepay$lappartfemale == 1, 1, basepay$femlab)
basepay$femhome <- 0
basepay$femhome <- ifelse(!is.na(basepay$lappartfemale) & !is.na(basepay$lappartmale)
& basepay$lappartfemale == 0 & basepay$lappartmale == 1, 1, basepay$femhome)
basepay$bothlab <- as.factor(basepay$bothlab)
basepay$femlab <- as.factor(basepay$femlab)
basepay$femhome <- as.factor(basepay$femho
basepay$costch <- as.numeric(basepay$costch)
saveRDS(basepay, "basepay.rds")
basepay$costch <- as.numeric(basepay$costch)
saveRDS(basepay, "basepay.rds")
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
summary(reg10)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9, family = binomial(link = "logit"), data = basepay)
summary(reg10)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9, family = binomial(link = "logit"), data = basepay)
summary(reg10)
reg9 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + costch +
chout + if_birth9
+ changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
summary(reg9)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
summary(reg10)
reg11 <- glm(formula = birth ~ treated + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + yrschm +  MAGE+
chout + if_birth9 + costch + femhome
, family = binomial(link = "logit"), data = basepay)
summary(reg11)
reg12 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  +
FSI + NumChild  + incbracket +  yrschf + yrschm + MAGE +
chout + if_birth9 + costch + femhome,
family = binomial(link = "logit"), data = basepay)
summary(reg12)
plot_summs(reg2, reg10, reg12,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c( "Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8"),
inner_ci_level = .9, colors = "Qual3")
library(jtools)
plot_summs(reg2, reg10, reg12,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c( "Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8"),
inner_ci_level = .9, colors = "Qual3")
plot_summs(reg1, reg9, reg11,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c("Treated" = "treated"),
inner_ci_level = .9, colors = "Qual3")
summ(reg1, odds.ratio = TRUE)
plot_summs(reg2, reg10, reg12,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c( "Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8"),
inner_ci_level = .9, colors = "Qual3",
exp = TRUE)
plot_summs(reg1, reg9, reg11,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c("Treated" = "treated"),
inner_ci_level = .9, colors = "Qual3", exp=TRUE)
plot_summs(reg2, reg10, reg12,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c( "Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8"),
inner_ci_level = .9, colors = "Qual3",
apply.coef=exp, t.auto=F, p.auto=F)
plot_summs(reg2, reg10, reg12,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c( "Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8"),
inner_ci_level = .9, colors = "Qual3",
apply.coef=exp)
plot_summs(reg2, reg10, reg12,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c( "Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8"),
inner_ci_level = .9, colors = "Qual3",
exp = TRUE)
plot_summs(reg1, reg9, reg11,  scale = TRUE, plot.distributions = FALSE,
model.names = c("Baseline model", "With controls (female householder)",
"With controls (both householders)"),
coefs = c("Treated" = "treated"),
inner_ci_level = .9, colors = "Qual3", exp=TRUE)
stargazer(reg1, reg2, reg9, reg10, reg11, reg12, apply.coef=exp, t.auto=F, p.auto=F, report = "vct*")
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
summary(reg1)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 +
FSI + incbracket, family = binomial(link = "logit"), data = basepay)
reg3 <- glm(formula = birth ~ treated + SH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI  + incbracket  +
chout + if_birth9,
family = binomial(link = "logit"), data = basepay)
summary(reg3)
reg9 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + costch +
chout + if_birth9
+ changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
summary(reg9)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH, family = binomial(link = "logit"), data = basepay)
reg11 <- glm(formula = birth ~ treated + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + yrschm +  MAGE+
chout + if_birth9 + costch + femhome
, family = binomial(link = "logit"), data = basepay)
summary(reg11)
reg12 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  +
FSI + NumChild  + incbracket +  yrschf + yrschm + MAGE +
chout + if_birth9 + costch + femhome,
family = binomial(link = "logit"), data = basepay)
stargazer(reg1, reg2, reg9, reg10, reg11, reg12, apply.coef=exp, t.auto=F, p.auto=F, report = "vct*")
reg9 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + costch +
chout + if_birth9
+ changeDHSH + changeSHDH
+femhome, family = binomial(link = "logit"), data = basepay)
summary(reg9)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH
+ femhome, family = binomial(link = "logit"), data = basepay)
summary(reg10)
stargazer(reg1, reg2, reg9, reg10, reg11, reg12, apply.coef=exp, t.auto=F, p.auto=F, report = "vct*")
install.packages("mfx")
library("mfx")
#baseline, treatment variables and stratifying variables only
mereg1 <- logitmfx(formula = birth ~ treated + FSI + incbracket, data = basepay)
summary(mereg1)
probitmfx$mfxest
summary(mereg1$mfxest)
#baseline, treatment variables and stratifying variables only
mereg1 <- logitmfx(formula = birth ~ treated, data = basepay)
summary(mereg1$mfxest)
stargazer(mereg1)
reg1 <- glm(formula = birth ~ .
, family = binomial(link = "logit"), data = basepay)
summary(reg1)
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
mfx(reg1)
library("mfx")
mfx(reg1)
mfx::mfx(reg1)
mfx <- function(x,sims=1000)
{set.seed(1984)pdf <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",
mean(dnorm(predict(x, type = "link"))),
mean(dlogis(predict(x, type = "link"))))pdfsd <-
ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",
sd(dnorm(predict(x, type = "link"))),
sd(dlogis(predict(x, type = "link"))))
marginal.effects <- pdf*coef(x)sim <- matrix(rep(NA,sims*length(coef(x))),
nrow=sims)
for(i in 1:length(coef(x))){sim[,i] <- rnorm(sims,coef(x)[i],diag(vcov(x)^0.5)[i])}pdfsim <- rnorm(sims,pdf,pdfsd)sim.se <- pdfsim*simres <- cbind(marginal.effects,sd(sim.se))colnames(res)[2] <- "standard.error"ifelse(names(x$coefficients[1])=="(Intercept)",return(res[2:nrow(res),]),return(res))
mfx <- function(x,sims=1000){set.seed(1984)pdf <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",mean(dnorm(predict(x, type = "link"))),mean(dlogis(predict(x, type = "link"))))pdfsd <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",sd(dnorm(predict(x, type = "link"))),sd(dlogis(predict(x, type = "link"))))marginal.effects <- pdf*coef(x)sim <- matrix(rep(NA,sims*length(coef(x))), nrow=sims)for(i in 1:length(coef(x))){sim[,i] <- rnorm(sims,coef(x)[i],diag(vcov(x)^0.5)[i])}pdfsim <- rnorm(sims,pdf,pdfsd)sim.se <- pdfsim*simres <- cbind(marginal.effects,sd(sim.se))colnames(res)[2] <- "standard.error"ifelse(names(x$coefficients[1])=="(Intercept)",return(res[2:nrow(res),]),return(res))
{set.seed(1984)pdf <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",mean(dnorm(predict(x, type = "link"))),mean(dlogis(predict(x, type = "link"))))pdfsd <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",sd(dnorm(predict(x, type = "link"))),sd(dlogis(predict(x, type = "link"))))marginal.effects <- pdf*coef(x)sim <- matrix(rep(NA,sims*length(coef(x))), nrow=sims)for(i in 1:length(coef(x))){sim[,i] <- rnorm(sims,coef(x)[i],diag(vcov(x)^0.5)[i])}pdfsim <- rnorm(sims,pdf,pdfsd)sim.se <- pdfsim*simres <- cbind(marginal.effects,sd(sim.se))colnames(res)[2] <- "standard.error"ifelse(names(x$coefficients[1])=="(Intercept)",return(res[2:nrow(res),]),return(res))}
mfx <- function(x,sims=1000){set.seed(1984)pdf <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",mean(dnorm(predict(x, type = "link"))),mean(dlogis(predict(x, type = "link"))))pdfsd <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",sd(dnorm(predict(x, type = "link"))),sd(dlogis(predict(x, type = "link"))))marginal.effects <- pdf*coef(x)sim <- matrix(rep(NA,sims*length(coef(x))), nrow=sims)for(i in 1:length(coef(x))){sim[,i] <- rnorm(sims,coef(x)[i],diag(vcov(x)^0.5)[i])}pdfsim <- rnorm(sims,pdf,pdfsd)sim.se <- pdfsim*simres <- cbind(marginal.effects,sd(sim.se))colnames(res)[2] <- "standard.error"ifelse(names(x$coefficients[1])=="(Intercept)",return(res[2:nrow(res),]),return(res))}
mfx <- function(x,sims=1000)
{set.seed(1984)pdf <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",mean(dnorm(predict(x, type = "link"))),mean(dlogis(predict(x, type = "link"))))pdfsd <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",sd(dnorm(predict(x, type = "link"))),sd(dlogis(predict(x, type = "link"))))marginal.effects <- pdf*coef(x)sim <- matrix(rep(NA,sims*length(coef(x))), nrow=sims)for(i in 1:length(coef(x))){sim[,i] <- rnorm(sims,coef(x)[i],diag(vcov(x)^0.5)[i])}pdfsim <- rnorm(sims,pdf,pdfsd)sim.se <- pdfsim*simres <- cbind(marginal.effects,sd(sim.se))colnames(res)[2] <- "standard.error"ifelse(names(x$coefficients[1])=="(Intercept)",return(res[2:nrow(res),]),return(res))}
mfx <- function(x,sims=1000){
set.seed(1984)
pdf <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",
mean(dnorm(predict(x, type = "link"))),
mean(dlogis(predict(x, type = "link"))))
pdfsd <- ifelse(as.character(x$call)[3]=="binomial(link = \"probit\")",
sd(dnorm(predict(x, type = "link"))),
sd(dlogis(predict(x, type = "link"))))
marginal.effects <- pdf*coef(x)
sim <- matrix(rep(NA,sims*length(coef(x))), nrow=sims)
for(i in 1:length(coef(x))){
sim[,i] <- rnorm(sims,coef(x)[i],diag(vcov(x)^0.5)[i])
}
pdfsim <- rnorm(sims,pdf,pdfsd)
sim.se <- pdfsim*sim
res <- cbind(marginal.effects,sd(sim.se))
colnames(res)[2] <- "standard.error"
ifelse(names(x$coefficients[1])=="(Intercept)",
return(res[2:nrow(res),]),return(res))
}
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
summary(reg1)
mfx(reg1)
mereg1 <- logitmfx(formula = birth ~ treated + FSI + incbracket, data = basepay)
mereg1
m1.coef <-data.frame(coef(summary(mereg1)))
m1.coef$pval = round((pnorm(abs(m1.coef$t.value), lower.tail= FALSE) * 2),2)
m1.coef <-data.frame(coef(summary(mereg1)))
install.packages("erer")
library("erer")
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
mereg1 <- ocME(reg1, x.mean = TRUE)
library("erer")
install.packages("openxlsx")
library("erer")
mereg1 <- ocME(reg1, x.mean = TRUE)
mereg1 <- ocME(reg1)
install.packages("margins")
library("margins")
reg1 <- glm(formula = birth ~ treated + FSI + incbracket
, family = binomial(link = "logit"), data = basepay)
effects_reg1 = margins(reg1)
summary(reg1)
summary(effects_reg1)
plot(effects_reg1)
stargazer(effects_reg1)
effects_reg1 <- summary(effects_reg1)
reg2 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 +
FSI + incbracket, family = binomial(link = "logit"), data = basepay)
reg9 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + costch +
chout + if_birth9
+ changeDHSH + changeSHDH
+femhome, family = binomial(link = "logit"), data = basepay)
effects_reg9 = margins(reg9)
effects_reg9 <- summary(effects_reg9)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH
+ femhome, family = binomial(link = "logit"), data = basepay)
effects_reg10 = margins(reg10)
effects_reg10 <- summary(effects_reg10)
reg11 <- glm(formula = birth ~ treated + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + yrschm +  MAGE+
chout + if_birth9 + costch + femhome
, family = binomial(link = "logit"), data = basepay)
effects_reg11 = margins(reg11)
effects_reg11 <- summary(effects_reg11)
reg11 <- glm(formula = birth ~ treated + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + yrschm +  MAGE+
chout + if_birth9 + costch + femhome
, family = binomial(link = "logit"), data = basepay)
effects_reg11 = margins(reg11)
effects_reg11 = margins(reg11)
reg11 <- glm(formula = birth ~ treated + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + NumChild  +
yrschf + yrschm +  MAGE+
chout + if_birth9 + costch + femhome
, family = binomial(link = "logit"), data = basepay)
effects_reg11 = margins(reg11)
effects_reg11 <- summary(effects_reg11)
reg12 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + NumChild  +  yrschf + yrschm + MAGE +
chout + if_birth9 + costch + femhome,
family = binomial(link = "logit"), data = basepay)
effects_reg11 = margins(reg11)
effects_reg11 <- summary(effects_reg11)
effects_reg12 = margins(reg12)
effects_reg12 <- summary(effects_reg12)
ggplot(data = reg11) +
geom_point(aes(factor, AME)) +
geom_errorbar(aes(x = factor, ymin = lower, ymax = upper)) +
geom_hline(yintercept = 0) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45))
ggplot(data = effects_reg12) +
geom_point(aes(factor, birth)) +
geom_errorbar(aes(x = factor, ymin = lower, ymax = upper)) +
geom_hline(yintercept = 0) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45))
ggplot(data = effects_reg12) +
geom_point(aes(factor, AEM)) +
geom_errorbar(aes(x = factor, ymin = lower, ymax = upper)) +
geom_hline(yintercept = 0) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45))
ggplot(data = effects_reg12)
ggplot(data = effects_reg12) +
geom_errorbar(aes(x = factor, ymin = lower, ymax = upper)) +
geom_hline(yintercept = 0) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45))
dwplot(list(reg2, reg10, reg12),
vline = geom_vline(xintercept = 0, colour = "grey60", linetype = 2)) %>% # plot line at zero _behind_ coefs
relabel_predictors(c("Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8")) +
theme_bw() + xlab("Marginal Effects") + ylab("") +
geom_vline(xintercept = 0, colour = "grey60", linetype = 2) +
ggtitle() +
theme(plot.title = element_text(face="bold"),
legend.position = c(0.007, 0.01),
legend.justification = c(0, 0),
legend.background = element_rect(colour="grey80"),
legend.title = element_blank())
library(ggplot)
library(ggplot2)
dwplot(list(reg2, reg10, reg12),
vline = geom_vline(xintercept = 0, colour = "grey60", linetype = 2)) %>% # plot line at zero _behind_ coefs
relabel_predictors(c("Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8")) +
theme_bw() + xlab("Marginal Effects") + ylab("") +
geom_vline(xintercept = 0, colour = "grey60", linetype = 2) +
ggtitle() +
theme(plot.title = element_text(face="bold"),
legend.position = c(0.007, 0.01),
legend.justification = c(0, 0),
legend.background = element_rect(colour="grey80"),
legend.title = element_blank())
library(broom)
dwplot(list(reg2, reg10, reg12),
vline = geom_vline(xintercept = 0, colour = "grey60", linetype = 2)) %>% # plot line at zero _behind_ coefs
relabel_predictors(c("Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8")) +
theme_bw() + xlab("Marginal Effects") + ylab("") +
geom_vline(xintercept = 0, colour = "grey60", linetype = 2) +
ggtitle() +
theme(plot.title = element_text(face="bold"),
legend.position = c(0.007, 0.01),
legend.justification = c(0, 0),
legend.background = element_rect(colour="grey80"),
legend.title = element_blank())
install.packages("dotwhisker")
library("dotwhisker")
dwplot(list(reg2, reg10, reg12),
vline = geom_vline(xintercept = 0, colour = "grey60", linetype = 2)) %>% # plot line at zero _behind_ coefs
relabel_predictors(c("Plan 1" = "plan_1","Plan 2" = "plan_2", "Plan 3" =
"plan_3",
"Plan 4" ="plan_4",
"Plan 5" ="plan_5",
"Plan 7" ="plan_7",
"Plan 8" ="plan_8")) +
theme_bw() + xlab("Marginal Effects") + ylab("") +
geom_vline(xintercept = 0, colour = "grey60", linetype = 2) +
ggtitle() +
theme(plot.title = element_text(face="bold"),
legend.position = c(0.007, 0.01),
legend.justification = c(0, 0),
legend.background = element_rect(colour="grey80"),
legend.title = element_blank())
effects_reg9 <- summary(effects_reg9)
effects
effects_reg9
stargazer(effects_reg9)
stargazer(effects_reg10
)
stargazer(effects_reg10)
stargazer(effects_reg9)
plot(effects_reg9)
reg9 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + costch +
chout + if_birth9
+ changeDHSH + changeSHDH
+femhome, family = binomial(link = "logit"), data = basepay)
effects_reg9 = margins(reg9)
effects_reg9 <- summary(effects_reg9)
plot(effects_reg9)
reg9 <- glm(formula = birth ~ treated + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550 + FSI + NumChild  + incbracket  +
yrschf + costch +
chout + if_birth9
+ changeDHSH + changeSHDH
+femhome, family = binomial(link = "logit"), data = basepay)
effects_reg9 = margins(reg9)
plot(effects_reg9)
effects_reg9 <- margins(effects_reg9, variables="treated")
effects_reg9
plot(effects_reg9, variables="treated")
plot(effects_reg9)
reg10 <- glm(formula = birth ~ plan_1 + plan_2 + plan_3 + plan_4 +
plan_5 + plan_7 + plan_8 + DH + age1519 + age2024 + age2429 +
age3034 + age3539 + age4044 + age4550  + costch +
FSI + NumChild  + incbracket +  yrschf +
chout + if_birth9 + changeDHSH + changeSHDH
+ femhome, family = binomial(link = "logit"), data = basepay)
effects_reg9 <- margins(effects_reg9, variables="treated")
